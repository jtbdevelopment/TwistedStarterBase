package com.jtbdevelopment.TwistedWordSearch.factory.initializers

import com.jtbdevelopment.TwistedWordSearch.state.GameFeature
import com.jtbdevelopment.TwistedWordSearch.state.TWSGame
import com.jtbdevelopment.TwistedWordSearch.state.grid.Grid
import com.jtbdevelopment.games.factory.GameInitializer

/**
 * Date: 8/16/16
 * Time: 6:46 PM
 */
class CircleGridInitializerTest extends GroovyTestCase {
    CircleGridInitializer initializer = new CircleGridInitializer()

    void testInitializeGame() {
        TWSGame game = new TWSGame()
        game.grid = new Grid(21, 21)
        game.features = [GameFeature.CircleX51] as Set

        initializer.initializeGame(game)

        assert '        ?????        ' == game.grid.gridCells[0].toString()
        assert '      ?????????      ' == game.grid.gridCells[1].toString()
        assert '     ???????????     ' == game.grid.gridCells[2].toString()
        assert '    ?????????????    ' == game.grid.gridCells[3].toString()
        assert '   ???????????????   ' == game.grid.gridCells[4].toString()
        assert '  ?????????????????  ' == game.grid.gridCells[5].toString()
        assert ' ??????????????????? ' == game.grid.gridCells[6].toString()
        assert ' ??????????????????? ' == game.grid.gridCells[7].toString()
        assert '?????????????????????' == game.grid.gridCells[8].toString()
        assert '?????????????????????' == game.grid.gridCells[9].toString()
        assert '?????????????????????' == game.grid.gridCells[10].toString()
        assert '?????????????????????' == game.grid.gridCells[11].toString()
        assert '?????????????????????' == game.grid.gridCells[12].toString()
        assert ' ??????????????????? ' == game.grid.gridCells[13].toString()
        assert ' ??????????????????? ' == game.grid.gridCells[14].toString()
        assert '  ?????????????????  ' == game.grid.gridCells[15].toString()
        assert '   ???????????????   ' == game.grid.gridCells[16].toString()
        assert '    ?????????????    ' == game.grid.gridCells[17].toString()
        assert '     ???????????     ' == game.grid.gridCells[18].toString()
        assert '      ?????????      ' == game.grid.gridCells[19].toString()
        assert '        ?????        ' == game.grid.gridCells[20].toString()

    }

    void testGetOrder() {
        assert GameInitializer.EARLY_ORDER + 10 == initializer.order
    }
}
